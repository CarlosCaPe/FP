/*****************************************************************************************
* TABLE     : DRILL_BLAST__BLAST_PLAN_INCR
* DATABASE  : SNOWFLAKE_WG
* SCHEMA    : dbo
* SOURCE    : Snowflake DEV_API_REF.FUSE.BLAST_PLAN_INCR
* DATE      : 2026-01-28 | AUTHOR: CARLOS CARRILLO
******************************************************************************************/
IF NOT EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[DRILL_BLAST__BLAST_PLAN_INCR]') AND type in (N'U'))
BEGIN
CREATE TABLE [dbo].[DRILL_BLAST__BLAST_PLAN_INCR] (
    BLAST_PLAN_SK BIGINT NOT NULL,
    ORIG_SRC_ID BIGINT,
    SITE_CODE NVARCHAR(50),
    BENCH FLOAT,
    PUSHBACK NVARCHAR(MAX),
    PATTERN_NAME NVARCHAR(510),
    BLAST_NAME NVARCHAR(MAX),
    PLAN_CREATION_TS_UTC NVARCHAR(50),
    PLAN_CREATION_TS_LOCAL NVARCHAR(50),
    DESIGN_BY NVARCHAR(500),
    DRILL_CYCLE_SK BIGINT,
    BLAST_ID BIGINT,
    DRILLED_HOLE_ID BIGINT,
    BLAST_TYPE NVARCHAR(400),
    BLAST_GOAL NVARCHAR(400),
    BLAST_DATE_UTC NVARCHAR(50),
    DRILLED_HOLE_NAME NVARCHAR(500),
    DRILLED_HOLE_FLAG BIT,
    HOLE_START_METERS_X FLOAT,
    HOLE_START_METERS_Y FLOAT,
    HOLE_START_METERS_Z FLOAT,
    HOLE_START_FEET_X FLOAT,
    HOLE_START_FEET_Y FLOAT,
    HOLE_START_FEET_Z FLOAT,
    DEPTH_METERS FLOAT,
    DEPTH_FEET FLOAT,
    CHARGE_RULE_NAME NVARCHAR(100),
    EXPLOSIVE_PRODUCT_BOTTOM BIGINT,
    EXPLOSIVE_PRODUCT_TOP BIGINT,
    EXPLOSIVE_PRODUCT_COUNT BIGINT,
    EXPLOSIVE_PRODUCT_USED_BOTTOM_KILOGRAMS FLOAT,
    EXPLOSIVE_PRODUCT_USED_BOTTOM_POUNDS FLOAT,
    EXPLOSIVE_PRODUCT_USED_TOP_KILOGRAMS FLOAT,
    EXPLOSIVE_PRODUCT_USED_TOP_POUNDS FLOAT,
    EXPLOSIVE_PRODUCT_LENGTH_BOTTOM_METERS FLOAT,
    EXPLOSIVE_PRODUCT_LENGTH_BOTTOM_FEET FLOAT,
    EXPLOSIVE_PRODUCT_LENGTH_TOP_METERS FLOAT,
    EXPLOSIVE_PRODUCT_LENGTH_TOP_FEET FLOAT,
    STEMMING_LENGTH_TOTAL_METERS FLOAT,
    STEMMING_LENGTH_TOTAL_FEET FLOAT,
    STEMMING_LENGTH_BOTTOM_METERS FLOAT,
    STEMMING_LENGTH_BOTTOM_FEET FLOAT,
    STEMMING_LENGTH_TOP_METERS FLOAT,
    STEMMING_LENGTH_TOP_FEET FLOAT,
    AIR_BAG_ELEVATION_METERS FLOAT,
    AIR_BAG_ELEVATION_FEET FLOAT,
    AIR_BAG_FLAG BIT,
    AIR_ELEVATION_METERS FLOAT,
    AIR_ELEVATION_FEET FLOAT,
    AIR_FLAG BIT,
    BURDEN_METERS FLOAT,
    BURDEN_FEET FLOAT,
    SPACING_METERS FLOAT,
    SPACING_FEET FLOAT,
    TONS_PER_HOLE FLOAT,
    HOLE_REMOVED_FLAG BIT,
    KCALS_PER_TON FLOAT,
    POWDER_FACTOR FLOAT,
    MEGAJOULES_PER_TON FLOAT,
    CONFINEMENT_FACTOR FLOAT,
    TIMING_RATIO FLOAT,
    TARGET_P80 FLOAT,
    REACTIVE_GROUND_FLAG DECIMAL(18,5),
    PRIMER_COUNT BIGINT,
    DW_LOAD_TS DATETIME2,
    DW_MODIFY_TS DATETIME2,
    DW_LOGICAL_DELETE_FLAG NVARCHAR(1) DEFAULT 'N',
    DW_ROW_HASH NVARCHAR(64),
    CONSTRAINT PK_DRILL_BLAST__BLAST_PLAN_INCR PRIMARY KEY (BLAST_PLAN_SK)
);
END
GO
